function t(t,e,n,o){Object.defineProperty(t,e,{get:n,set:o,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=e.parcelRequired7c6;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){o[t]=e},e.parcelRequired7c6=r),r.register("krGWQ",(function(e,n){t(e.exports,"refs",(function(){return o}));const o={gallery:document.querySelector(".gallery"),form:document.querySelector(".navigation__form"),notificate:document.querySelector(".navigation__notificate"),backdrop:document.querySelector(".js-backdrop"),watchButton:document.querySelector(".button-watched__modal"),queueButton:document.querySelector(".button-queue__modal"),modal:document.querySelector(".modal__content"),closeModalBtn:document.querySelector(".modal-close"),buttonsContainer:document.querySelector(".buttons-modal"),queueBtnLib:document.querySelector(".button-queue"),watchedBtnLib:document.querySelector(".button-watched"),galleryLib:document.querySelector(".gallery-lib")}})),r.register("7zQK0",(function(e,n){t(e.exports,"localGenres",(function(){return o}));let o;(async()=>{try{const t=await fetch("\n            https://api.themoviedb.org/3/genre/movie/list?api_key=ff98b74c6ada2972698b8eff6707845a&language=en-US\n        ");return await t.json()}catch(t){throw Error(response.statusText)}})().then((t=>{localStorage.setItem("genres",JSON.stringify(t.genres));const e=localStorage.getItem("genres");o=JSON.parse(e)}))})),r.register("TEBOm",(function(e,n){t(e.exports,"cardObject",(function(){return s}));var o=r("krGWQ"),a=r("ZdK2o"),c=r("bOFJ0");let s;function i(){window.removeEventListener("keydown",u),o.refs.backdrop.classList.remove("show-modal")}function l(t){t.currentTarget===t.target&&i()}function u(t){"Escape"===t.code&&i()}o.refs.gallery.addEventListener("click",(t=>{t.preventDefault(),async function(t){try{return(await fetch(`https://api.themoviedb.org/3/movie/${t}?api_key=deeaaa6f7bb1ec2c1571c017660b3676`)).json()}catch(t){console.log(t.message)}}(t.target.dataset.id).then((t=>{s=t,o.refs.modal.innerHTML="",(0,c.checkStorage)(),(0,c.watchButtDisOrEn)(),window.addEventListener("keydown",u),o.refs.backdrop.classList.add("show-modal"),o.refs.modal.insertAdjacentHTML("afterbegin",(0,a.openModalMovie)(t)),o.refs.backdrop.addEventListener("click",l),o.refs.closeModalBtn.addEventListener("click",i),o.refs.buttonsContainer.addEventListener("click",c.addToStorage)})).catch((t=>{console.log(t)}))}))})),r.register("ZdK2o",(function(e,n){function o(t){const{vote_average:e,vote_count:n,genres:o,original_title:r,title:a,poster_path:c,original_name:s,popularity:i,overview:l,id:u}=t;return`<img class="img-modal" src="https://image.tmdb.org/t/p/w500${c}" alt="" data-id=${u} />\n        <div class="container-modal">\n          <h1 class="title-modal">${a}</h1>\n          <table class="table">\n            <tr class="table-separator">\n              <th class="table__text">Vote / Votes</th>\n              <th><span class="vote-average">${e}</span> / <span class="vote-count">${n}</span></th>\n            </tr>\n            <tr class="table-separator">\n              <th class="table__text">Popularity</th>\n              <th>${i.toString().slice(0,5)}</th>\n            </tr>\n            <tr class="table-separator">\n              <th class="table__text">Original Title</th>\n              <th>${r||s}</th>\n            </tr>\n            <tr class="table-separator">\n              <th class="table__text">Genre</th>\n              <th>${o?o.map((t=>t.name)).slice(0,2):" "}</th>\n            </tr>\n          </table>\n          <h2 class="title-about__modal">ABOUT</h2>\n          <p class="about-text__modal">${l}\n          </p>\n        </div>\n      </div>\n    </div>`}t(e.exports,"openModalMovie",(function(){return o}))})),r.register("bOFJ0",(function(e,n){t(e.exports,"checkStorage",(function(){return i})),t(e.exports,"addToStorage",(function(){return l})),t(e.exports,"watchButtDisOrEn",(function(){return u}));var o=r("krGWQ"),a=r("TEBOm");let c=[],s=[];function i(){localStorage.getItem("Watch")&&(c=JSON.parse(localStorage.getItem("Watch"))),localStorage.getItem("Queue")&&(s=JSON.parse(localStorage.getItem("Queue")))}function l(t){"button-watched__modal"!==t.target.className?"button-queue__modal"!==t.target.className||function(){if("ADD TO QUEUE"===o.refs.queueButton.textContent)return g(),s.push(a.cardObject),void localStorage.setItem("Queue",JSON.stringify(s));if("REMOVE FROM QUEUE"===o.refs.queueButton.textContent){b();for(const t of s)if(t.id===a.cardObject.id){const e=s.indexOf(t);s.splice(e,1);localStorage.setItem("Queue",JSON.stringify(s))}}}():function(){if(console.log(a.cardObject),"ADD TO WATCHED"===o.refs.watchButton.textContent)return d(),c.push(a.cardObject),void localStorage.setItem("Watch",JSON.stringify(c));if("REMOVE FROM WATCH"===o.refs.watchButton.textContent){f();for(const t of c)if(t.id===a.cardObject.id){const e=c.indexOf(t);c.splice(e,1);localStorage.setItem("Watch",JSON.stringify(c))}}}()}function u(){f(),b();for(const t of c)if(t.id===a.cardObject.id){d();break}for(const t of s)if(t.id===a.cardObject.id){g();break}}function d(){o.refs.watchButton.style.backgroundColor="red",o.refs.watchButton.textContent="REMOVE FROM WATCH"}function f(){o.refs.watchButton.style.backgroundColor="#FF6B01",o.refs.watchButton.textContent="ADD TO WATCHED"}function g(){o.refs.queueButton.style.backgroundColor="pink",o.refs.queueButton.textContent="REMOVE FROM QUEUE"}function b(){o.refs.queueButton.style.backgroundColor="white",o.refs.queueButton.textContent="ADD TO QUEUE"}}));
//# sourceMappingURL=index-lib.a2ecd8dc.js.map
