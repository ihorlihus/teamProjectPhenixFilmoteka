console.log("hi team!");const e=async e=>{try{const t=await fetch(`\n        https://api.themoviedb.org/3/search/movie?api_key=ff98b74c6ada2972698b8eff6707845a&language=en-US&page=1&include_adult=false&query=${e}\n            `);return await t.json()}catch(e){throw Error(response.statusText)}};let t;(async()=>{try{const e=await fetch("\n            https://api.themoviedb.org/3/genre/movie/list?api_key=ff98b74c6ada2972698b8eff6707845a&language=en-US\n        ");return await e.json()}catch(e){throw Error(response.statusText)}})().then((e=>{localStorage.setItem("genres",JSON.stringify(e.genres));const n=localStorage.getItem("genres");t=JSON.parse(n)}));const n=e=>e.map((({poster_path:e,title:n,name:a,release_date:o,first_air_date:r,genre_ids:s,vote_average:i})=>{let l;if(s.length<=3)l=t.filter((({id:e})=>s.includes(e))).map((({name:e})=>e)).join(", ");else{l=t.slice(0,2).filter((({id:e})=>s.includes(e))).map((({name:e})=>e)).join(", ")+" Other"}return`\n                <li>\n                    <a>\n                        <img src='https://image.tmdb.org/t/p/w500${e}' alt='${n||a}' loading="lazy"/>\n                        <p>${n||a}</p>\n                        <div>\n                            <p>${l}</p>\n                            <p>${(o||r).slice(0,4)}</p>\n                            <span>${i}</span>\n                        </div>\n                    </a>\n                </li>\n            `})).join(""),a={gallery:document.querySelector(".gallery"),form:document.querySelector(".navigation__form")};(async()=>{try{return(await fetch("https://api.themoviedb.org/3/trending/all/day?api_key=ff98b74c6ada2972698b8eff6707845a")).json()}catch(e){throw Error(response.statusText)}})().then((e=>{a.gallery.innerHTML=n(e.results)})),a.form.addEventListener("submit",(t=>{t.preventDefault();const o=t.target.elements.navigation__input.value.trim();e(o).then((e=>{a.gallery.innerHTML=n(e.results)}))}));const o={openModalBtn:document.querySelector(".modal-open"),closeModalBtn:document.querySelector(".modal-close"),backdrop:document.querySelector(".js-backdrop")};function r(){window.removeEventListener("keydown",s),o.backdrop.classList.remove("show-modal")}function s(e){"Escape"===e.code&&r()}o.openModalBtn.addEventListener("click",(function(){window.addEventListener("keydown",s),o.backdrop.classList.add("show-modal")})),o.closeModalBtn.addEventListener("click",r),o.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&r()}));const i=document.getElementById("modalTeam"),l=document.querySelector(".modal-team");i.addEventListener("click",(function(e){e.preventDefault(),l.classList.toggle("visually-hidden"),l.addEventListener("keydown")}));
//# sourceMappingURL=index-lib.ac81d1fe.js.map
