!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){r[e]=n},n.parcelRequired7c6=a);var o,i=a("bpxeT"),c=a("2TvXO"),s=a("3likm"),d=function(e){return e.map((function(e){var n,t=e.poster_path,r=e.title,a=e.name,o=e.release_date,i=e.first_air_date,c=e.genre_ids,d=e.id,l=e.vote_average,u=s.localGenres.filter((function(e){var n=e.id;return c.includes(n)})).map((function(e){return e.name}));n=u.length<=2?u.join(", "):u.slice(0,2).join(", ")+", Other";var f=l.toString();return'\n                <li class="card__item" data-id="'.concat(d,'">\n                    <a class="card card__link" data-id="').concat(d,'">\n                        <img class="card__img" data-id="').concat(d,"\" src='https://image.tmdb.org/t/p/w500").concat(t,"' alt='").concat(r||a,'\' loading="lazy"/>\n                        <p class="card__title" data-id="').concat(d,'">').concat(r||a,'</p>\n                        <div class="card__inform" data-id="').concat(d,'">\n                            <p class="card__genres">').concat(n,'</p>\n                            <p class="card__date">\n                              <span></span>| \n                            ').concat((o||i).slice(0,4),'</p>\n                            <span class="card__vote visually-hidden">').concat(f.slice(0,3),"</span>\n                        </div>\n                    </a>\n                </li>\n            ")})).join("")},l=(i=a("bpxeT"),c=a("2TvXO"),o=e(i)(e(c).mark((function n(t){var r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.show(),e.next=4,fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=ff98b74c6ada2972698b8eff6707845a&page=".concat(g.currentPage));case 4:return r=e.sent,t.hide(),e.abrupt("return",r.json());case 9:throw e.prev=9,e.t0=e.catch(0),Error(response.statusText);case 12:case"end":return e.stop()}}),n,null,[[0,9]])}))),function(e){return o.apply(this,arguments)}),u=a("4Nugj"),f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")};var p={};function v(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(p,"__esModule",{value:!0}),p.default=function(e,n,t){n&&v(e.prototype,n);t&&v(e,t);return e};var h=function(){"use strict";function n(t){var r=t.hidden,a=void 0!==r&&r;e(f)(this,n),this.refs=this.getRefs(),a&&this.hide()}return e(p)(n,[{key:"getRefs",value:function(){var e={};return e.loader=document.querySelector(".loader"),e}},{key:"show",value:function(){this.refs.loader.classList.remove("is-hidden")}},{key:"hide",value:function(){this.refs.loader.classList.add("is-hidden")}}]),n}(),g={currentPage:1,currentQueryPage:1},m=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(l(_).then((function(e){try{if(g.currentPage===e.total_pages)return u.refs.gallery.insertAdjacentHTML("beforeend",d(e.results)),window.alert("Sorry this is the last page, we do not have any movies for you :("),void y();g.currentPage+=1,u.refs.gallery.insertAdjacentHTML("beforeend",d(e.results))}catch(e){console.log(e)}})),console.log("is intersecting"))}))}),{rootMargin:"0px",threshold:1});function y(){m.unobserve(document.querySelector(".scroll-check"))}m.observe(document.querySelector(".scroll-check"));var _=new h({loader:".loader",hidden:!0});var b=function(){var n=e(i)(e(c).mark((function n(t){var r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("\n        https://api.themoviedb.org/3/search/movie?api_key=ff98b74c6ada2972698b8eff6707845a&language=en-US&page=".concat(g.currentQueryPage,"&include_adult=false&query=").concat(t));case 3:return r=e.sent,g.currentQueryPage+=1,y(),e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(0),Error(response.statusText);case 14:case"end":return e.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}();u=a("4Nugj"),u=a("4Nugj"),new h({loader:".loader",hidden:!0});var w=new h({loader:".loader",hidden:!0}),k="";u.refs.form.addEventListener("submit",(function(e){e.preventDefault();var n=e.target.elements.navigation__input.value;k=n.trim(),b(k).then((function(e){""===k||0===e.results.length?(u.refs.notificate.classList.remove("navigation__notificate-hidden"),document.getElementById("myForm").reset(),setTimeout((function(){u.refs.notificate.classList.add("navigation__notificate-hidden")}),2500)):u.refs.gallery.innerHTML=d(e.results),w.show()}));new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(y(),b(k).then((function(e){try{u.refs.gallery.insertAdjacentHTML("beforeend",d(e.results))}catch(e){console.log(e)}})))}))}),{rootMargin:"-100px",threshold:1}).observe(document.querySelector(".scroll-check"))}));var T=document.getElementById("modalTeam"),x=document.querySelector(".modal-team");T.addEventListener("click",(function(e){e.preventDefault(),x.classList.toggle("visually-hidden"),x.addEventListener("keydown")})),a("3likm"),window.onload=function(){document.body.classList.add("loaded_hiding"),window.setTimeout((function(){document.body.classList.add("loaded"),document.body.classList.remove("loaded_hiding")}),1e3)},a("6Sco9"),a("lqpIw")}();
//# sourceMappingURL=index.0fb1ee1d.js.map
