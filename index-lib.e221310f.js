function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},n.parcelRequired7c6=r),r.register("7zQK0",(function(e,t){})),r.register("ioBS9",(function(e,t){window.onload=function(){document.body.classList.add("loaded_hiding"),window.setTimeout((function(){document.body.classList.add("loaded"),document.body.classList.remove("loaded_hiding")}),1e3)}})),r.register("bOFJ0",(function(t,n){e(t.exports,"checkStorage",(function(){return d})),e(t.exports,"addToStorage",(function(){return s})),e(t.exports,"watchButtDisOrEn",(function(){return l}));var o=r("krGWQ"),a=r("TEBOm");let i=[],c=[];function d(){localStorage.getItem("Watch")&&(i=JSON.parse(localStorage.getItem("Watch"))),localStorage.getItem("Queue")&&(c=JSON.parse(localStorage.getItem("Queue")))}function s(e){"button-watched__modal"!==e.target.className?"button-queue__modal"!==e.target.className||function(){if("ADD TO QUEUE"===o.refs.queueButton.textContent)return m(),c.push(a.cardObject),void localStorage.setItem("Queue",JSON.stringify(c));if("REMOVE FROM QUEUE"===o.refs.queueButton.textContent){g();for(const e of c)if(e.id===a.cardObject.id){const t=c.indexOf(e);c.splice(t,1);localStorage.setItem("Queue",JSON.stringify(c))}}}():function(){if(console.log(a.cardObject),"ADD TO WATCHED"===o.refs.watchButton.textContent)return u(),i.push(a.cardObject),void localStorage.setItem("Watch",JSON.stringify(i));if("REMOVE FROM WATCH"===o.refs.watchButton.textContent){f();for(const e of i)if(e.id===a.cardObject.id){const t=i.indexOf(e);i.splice(t,1);localStorage.setItem("Watch",JSON.stringify(i))}}}()}function l(){f(),g();for(const e of i)if(e.id===a.cardObject.id){u();break}for(const e of c)if(e.id===a.cardObject.id){m();break}}function u(){o.refs.watchButton.style.backgroundColor="red",o.refs.watchButton.textContent="REMOVE FROM WATCH"}function f(){o.refs.watchButton.style.backgroundColor="#FF6B01",o.refs.watchButton.textContent="ADD TO WATCHED"}function m(){o.refs.queueButton.style.backgroundColor="pink",o.refs.queueButton.textContent="REMOVE FROM QUEUE"}function g(){o.refs.queueButton.style.backgroundColor="white",o.refs.queueButton.textContent="ADD TO QUEUE"}})),r.register("krGWQ",(function(t,n){e(t.exports,"refs",(function(){return o}));const o={gallery:document.querySelector(".gallery"),form:document.querySelector(".navigation__form"),notificate:document.querySelector(".navigation__notificate"),backdrop:document.querySelector(".js-backdrop"),watchButton:document.querySelector(".button-watched__modal"),queueButton:document.querySelector(".button-queue__modal"),modal:document.querySelector(".modal__content"),closeModalBtn:document.querySelector(".modal-close"),buttonsContainer:document.querySelector(".buttons-modal"),queueBtnLib:document.querySelector(".button-queue"),watchedBtnLib:document.querySelector(".button-watched"),galleryLib:document.querySelector(".gallery-lib"),fillerContainer:document.querySelector(".filler-container")}})),r.register("TEBOm",(function(t,n){e(t.exports,"cardObject",(function(){return c}));var o=r("krGWQ"),a=r("ZdK2o"),i=r("bOFJ0");let c;function d(){window.removeEventListener("keydown",l),o.refs.backdrop.classList.remove("show-modal")}function s(e){e.currentTarget===e.target&&d()}function l(e){"Escape"===e.code&&d()}o.refs.gallery.addEventListener("click",(e=>{e.preventDefault(),e.target.dataset.id&&async function(e){try{return(await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=deeaaa6f7bb1ec2c1571c017660b3676`)).json()}catch(e){console.log(e.message)}}(e.target.dataset.id).then((e=>{c=e,o.refs.modal.innerHTML="",(0,i.checkStorage)(),(0,i.watchButtDisOrEn)(),window.addEventListener("keydown",l),o.refs.backdrop.classList.add("show-modal"),o.refs.modal.insertAdjacentHTML("afterbegin",(0,a.openModalMovie)(e)),o.refs.backdrop.addEventListener("click",s),o.refs.closeModalBtn.addEventListener("click",d),o.refs.buttonsContainer.addEventListener("click",i.addToStorage)})).catch((e=>{console.log(e)}))}))})),r.register("ZdK2o",(function(t,n){function o(e){const{vote_average:t,vote_count:n,genres:o,original_title:a,title:r,poster_path:i,original_name:c,popularity:d,overview:s,id:l}=e;return`<img class="img-modal" src="https://image.tmdb.org/t/p/w500${i}" alt="${r}" data-id=${l} />\n        <div class="container-modal">\n          <h1 class="title-modal">${r}</h1>\n          <table class="table">\n            <tr class="table-separator">\n              <th class="table__text">Vote / Votes</th>\n              <th><span class="vote-average">${t}</span> / <span class="vote-count">${n}</span></th>\n            </tr>\n            <tr class="table-separator">\n              <th class="table__text">Popularity</th>\n              <th>${Math.round(d.toString())}</th>\n            </tr>\n            <tr class="table-separator">\n              <th class="table__text">Original Title</th>\n              <th>${a||c}</th>\n            </tr>\n            <tr class="table-separator">\n              <th class="table__text">Genre</th>\n              <th>${o.map((e=>e.name)).slice(0,2).join(", ")+", Other"}</th>\n            </tr>\n          </table>\n          <h2 class="title-about__modal">ABOUT</h2>\n          <p class="about-text__modal about-scrollbar">${s}\n          </p>\n        </div>\n      </div>\n    </div>`}e(t.exports,"openModalMovie",(function(){return o}))})),r.register("6dDzJ",(function(e,t){const n={openModalBtn:document.querySelector(".backdrop-modal"),closeModalBtn:document.querySelector(".modal-btn"),modal:document.getElementById("modalTeam")};function o(){n.openModalBtn.classList.toggle("is-hidden-modal"),window.addEventListener("keydown",a)}function a(e){"Escape"===e.code&&o()}n.modal.addEventListener("click",(function(e){e.preventDefault(),n.openModalBtn.classList.toggle("is-hidden-modal")})),n.closeModalBtn.addEventListener("click",o)})),r.register("csVsy",(function(n,o){e(n.exports,"createMovieCard",(function(){return c}));var a=r("2eUFK");const i=localStorage.getItem("genres"),c=(JSON.parse(i),e=>e.map((({poster_path:e,title:n,name:o,release_date:r,first_air_date:i,genre_ids:c,id:d,vote_average:s})=>{let l,u=t(a).genres.filter((({id:e})=>c.includes(e))).map((({name:e})=>e));l=u.length<=2?u.join(", "):u.slice(0,2).join(", ")+", Other";const f=s.toString();return`\n                <li class="card__item" data-id="${d}">\n                    <a class="card card__link" data-id="${d}">\n                        <img class="card__img" data-id="${d}" src='https://image.tmdb.org/t/p/w500${e}' alt='${n||o}' loading="lazy"/>\n                        <p class="card__title" data-id="${d}">${n||o}</p>\n                        <div class="card__inform" data-id="${d}">\n                            <p class="card__genres" data-id="${d}">${l}</p>\n                            <p class="card__date" data-id="${d}">\n                              <span></span>| \n                            ${(r||i).slice(0,4)}</p>\n                            <span class="card__vote visually-hidden">${f.slice(0,3)}</span>\n                        </div>\n                    </a>\n                </li>\n            `})).join(""))})),r.register("2eUFK",(function(e,t){e.exports=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}')}));
//# sourceMappingURL=index-lib.e221310f.js.map
