!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o,i=a("bpxeT"),c=a("2TvXO"),s=a("3likm"),l=function(e){return e.map((function(e){var t,n=e.poster_path,r=e.title,a=e.name,o=e.release_date,i=e.first_air_date,c=e.genre_ids,l=e.id,u=e.vote_average,d=s.localGenres.filter((function(e){var t=e.id;return c.includes(t)})).map((function(e){return e.name}));t=d.length<=2?d.join(", "):d.slice(0,2).join(", ")+", Other";var f=u.toString();return'\n                <li class="card__item" data-id="'.concat(l,'">\n                    <a class="card card__link" data-id="').concat(l,'">\n                        <img class="card__img" data-id="').concat(l,"\" src='https://image.tmdb.org/t/p/w500").concat(n,"' alt='").concat(r||a,'\' loading="lazy"/>\n                        <p class="card__title" data-id="').concat(l,'">').concat(r||a,'</p>\n                        <div class="card__inform" data-id="').concat(l,'">\n                            <p class="card__genres">').concat(t,'</p>\n                            <p class="card__date">\n                              <span></span>| \n                            ').concat((o||i).slice(0,4),'</p>\n                            <span class="card__vote visually-hidden">').concat(f.slice(0,3),"</span>\n                        </div>\n                    </a>\n                </li>\n            ")})).join("")},u=(i=a("bpxeT"),c=a("2TvXO"),o=e(i)(e(c).mark((function t(n){var r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("\n        https://api.themoviedb.org/3/search/movie?api_key=ff98b74c6ada2972698b8eff6707845a&language=en-US&page=".concat(g.currentPage,"&include_adult=false&query=").concat(n,"\n            "));case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),Error(response.statusText);case 12:case"end":return e.stop()}}),t,null,[[0,9]])}))),function(e){return o.apply(this,arguments)}),d=a("4Nugj"),f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var h={};function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);return e};var p=function(){"use strict";function t(n){var r=n.hidden,a=void 0!==r&&r;e(f)(this,t),this.refs=this.getRefs(),a&&this.hide()}return e(h)(t,[{key:"getRefs",value:function(){var e={};return e.loader=document.querySelector(".loader"),e}},{key:"show",value:function(){this.refs.loader.classList.remove("is-hidden")}},{key:"hide",value:function(){this.refs.loader.classList.add("is-hidden")}}]),t}(),g={currentPage:1},m=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(b.show(),_().then((function(e){try{if(g.currentPage===e.total_pages)return d.refs.gallery.insertAdjacentHTML("beforeend",l(e.results)),window.alert("Sorry this is the last page, we do not have any movies for you :("),b.hide(),void y();g.currentPage+=1,d.refs.gallery.insertAdjacentHTML("beforeend",l(e.results))}catch(e){console.log(e)}})),u().then((function(e){try{if(g.currentPage===e.total_pages)return d.refs.gallery.insertAdjacentHTML("beforeend",l(e.results)),window.alert("Sorry this is the last page, we do not have any movies for you :("),b.hide(),void y();g.currentPage+=1,d.refs.gallery.insertAdjacentHTML("beforeend",l(e.results))}catch(e){console.log(e)}})))}))}),{rootMargin:"-100px",threshold:1});function y(){m.unobserve(document.querySelector(".scroll-check"))}m.observe(document.querySelector(".scroll-check"));var b=new p({loader:".loader",hidden:!0});var _=function(){var t=e(i)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=ff98b74c6ada2972698b8eff6707845a&page=".concat(g.currentPage));case 3:return n=e.sent,e.abrupt("return",n.json());case 7:throw e.prev=7,e.t0=e.catch(0),Error(response.statusText);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),w=(d=a("4Nugj"),new p({loader:".loader",hidden:!0}));d.refs.form.addEventListener("submit",(function(e){e.preventDefault();var t=e.target.elements.navigation__input.value.trim();g.currentPage=1,w.show(),u(t).then((function(e){""===t||0===e.results.length?(d.refs.notificate.classList.remove("navigation__notificate-hidden"),document.getElementById("myForm").reset(),setTimeout((function(){d.refs.notificate.classList.add("navigation__notificate-hidden")}),2500)):d.refs.gallery.innerHTML=l(e.results),w.hide()}))}));var x=document.getElementById("modalTeam"),E=document.querySelector(".modal-team");x.addEventListener("click",(function(e){e.preventDefault(),E.classList.toggle("visually-hidden"),E.addEventListener("keydown")})),a("3likm"),window.onload=function(){document.body.classList.add("loaded_hiding"),window.setTimeout((function(){document.body.classList.add("loaded"),document.body.classList.remove("loaded_hiding")}),1e3)};var k;d=a("4Nugj"),i=a("bpxeT"),c=a("2TvXO");function O(e){var t=e.vote_average,n=e.vote_count,r=e.genres,a=e.original_title,o=e.title,i=e.poster_path,c=e.original_name,s=e.popularity,l=e.overview,u=e.id;return'\n        <img class="img-modal" src="https://image.tmdb.org/t/p/w500'.concat(i,'" alt="" data-id=').concat(u,' />\n        <div class="container-modal">\n          <h1 class="title-modal">').concat(o,'</h1>\n          <table class="table">\n            <tr>\n              <th class="table__text">Vote / Votes</th>\n              <th><span class="vote-average">').concat(t,'</span> / <span class="vote-count">').concat(n,'</span></th>\n            </tr>\n            <tr>\n              <th class="table__text">Popularity</th>\n              <th>').concat(s,'</th>\n            </tr>\n            <tr>\n              <th class="table__text">Original Title</th>\n              <th>').concat(a||c,'</th>\n            </tr>\n            <tr>\n              <th class="table__text">Genre</th>\n              <th>').concat(r?r.map((function(e){return e.name})):" ",'</th>\n            </tr>\n          </table>\n          <h2 class="title-about__modal">ABOUT</h2>\n          <p class="about-text__modal">').concat(l,"\n          </p>\n        </div>\n      </div>\n    </div>")}function T(){return(T=e(i)(e(c).mark((function t(n){var r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=deeaaa6f7bb1ec2c1571c017660b3676"));case 3:return r=e.sent,a=r.json(),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function L(){window.removeEventListener("keydown",M),d.refs.backdrop.classList.remove("show-modal")}function S(e){e.currentTarget===e.target&&L()}function M(e){"Escape"===e.code&&L()}(d=a("4Nugj")).refs.gallery.addEventListener("click",(function(e){e.preventDefault(),function(e){return T.apply(this,arguments)}(e.target.dataset.id).then((function(e){k=e,d.refs.modal.innerHTML="",B(),q(),window.addEventListener("keydown",M),d.refs.backdrop.classList.add("show-modal"),d.refs.modal.insertAdjacentHTML("afterbegin",O(e)),d.refs.backdrop.addEventListener("click",S),d.refs.closeModalBtn.addEventListener("click",L),d.refs.buttonsContainer.addEventListener("click",D)})).catch((function(e){console.log(e)}))}));var C=[],j=[];function B(){localStorage.getItem("Watch")&&(C=JSON.parse(localStorage.getItem("Watch"))),localStorage.getItem("Queue")&&(j=JSON.parse(localStorage.getItem("Queue")))}function D(e){"button-watched__modal"!==e.target.className?"button-queue__modal"!==e.target.className||function(){if("ADD TO QUEUE"===d.refs.queueButton.textContent)return I(),j.push(k),void localStorage.setItem("Queue",JSON.stringify(j));if("REMOVE FROM QUEUE"===d.refs.queueButton.textContent){P();var e=!0,t=!1,n=void 0;try{for(var r,a=j[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value;if(o.id===k.id){var i=j.indexOf(o);j.splice(i,1);localStorage.setItem("Queue",JSON.stringify(j))}}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}}():function(){if(console.log(k),"ADD TO WATCHED"===d.refs.watchButton.textContent)return A(),C.push(k),void localStorage.setItem("Watch",JSON.stringify(C));if("REMOVE FROM WATCH"===d.refs.watchButton.textContent){N();var e=!0,t=!1,n=void 0;try{for(var r,a=C[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value;if(o.id===k.id){var i=C.indexOf(o);C.splice(i,1);localStorage.setItem("Watch",JSON.stringify(C))}}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}}()}function q(){N(),P();var e=!0,t=!1,n=void 0;try{for(var r,a=C[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){if(r.value.id===k.id){A();break}}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}var o=!0,i=!1,c=void 0;try{for(var s,l=j[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){if(s.value.id===k.id){I();break}}}catch(e){i=!0,c=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw c}}}function A(){d.refs.watchButton.style.backgroundColor="red",d.refs.watchButton.textContent="REMOVE FROM WATCH"}function N(){d.refs.watchButton.style.backgroundColor="#FF6B01",d.refs.watchButton.textContent="ADD TO WATCHED"}function I(){d.refs.queueButton.style.backgroundColor="pink",d.refs.queueButton.textContent="REMOVE FROM QUEUE"}function P(){d.refs.queueButton.style.backgroundColor="white",d.refs.queueButton.textContent="ADD TO QUEUE"}}();
//# sourceMappingURL=index.d9bcb93f.js.map
