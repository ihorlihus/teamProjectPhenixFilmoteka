const e={gallery:document.querySelector(".gallery"),form:document.querySelector(".navigation__form"),notificate:document.querySelector(".navigation__notificate"),backdrop:document.querySelector(".js-backdrop"),watchButton:document.querySelector(".button-watched__modal"),queueButton:document.querySelector(".button-queue__modal"),modal:document.querySelector(".modal__content"),closeModalBtn:document.querySelector(".modal-close"),buttonsContainer:document.querySelector(".buttons-modal"),queueBtnLib:document.querySelector(".button-queue"),watchedBtnLib:document.querySelector(".button-watched"),galleryLib:document.querySelector(".gallery-lib")};let t;(async()=>{try{const e=await fetch("\n            https://api.themoviedb.org/3/genre/movie/list?api_key=ff98b74c6ada2972698b8eff6707845a&language=en-US\n        ");return await e.json()}catch(e){throw Error(response.statusText)}})().then((e=>{localStorage.setItem("genres",JSON.stringify(e.genres));const a=localStorage.getItem("genres");t=JSON.parse(a)}));const a=e=>e.map((({poster_path:e,title:a,name:n,release_date:r,first_air_date:o,id:c,vote_average:l})=>{let i,d=t.map((({name:e})=>e));i=d.length<=2?d.join(", "):d.slice(0,2).join(", ")+", Other";const s=l.toString();return`\n                <li class="card__item" data-id="${c}">\n                    <a class="card card__link" data-id="${c}">\n                        <img class="card__img" data-id="${c}" src='https://image.tmdb.org/t/p/w500${e}' alt='${a||n}' loading="lazy"/>\n                        <p class="card__title" data-id="${c}">${a||n}</p>\n                        <div class="card__inform" data-id="${c}">\n                            <p class="card__genres">${i}</p>\n                            <p class="card__date">\n                              <span></span>\n                            ${(r||o).slice(0,4)}</p>\n                            <span class="card__vote visually-hidden">${s.slice(0,3)}</span>\n                        </div>\n                    </a>\n                </li>\n            `})).join("");e.watchedBtnLib.addEventListener("click",(function(){e.galleryLib.innerHTML="";let t=localStorage.getItem("Watch");const n=JSON.parse(t);0!==n.length&&e.galleryLib.insertAdjacentHTML("afterbegin",a(n))})),e.queueBtnLib.addEventListener("click",(function(){e.galleryLib.innerHTML="";let t=localStorage.getItem("Queue");const n=JSON.parse(t);0!==n.length&&e.galleryLib.insertAdjacentHTML("afterbegin",a(n))}));
//# sourceMappingURL=index-lib.a1a28a4c.js.map
